<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>🎰 Tilted, baby</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Cinzel+Decorative:wght@400;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      /* Silver and Black Degen Glitter Theme */
      --bg: #000000;
      --text: #E0E0E0;
      --link: #C0C0C0;
      --link-hover: #9C27B0;
      --timer: #9C27B0;
      --hover-bg: #1A1A1A;
      --border: #333;
      --success: #B76E79;
      --accent: #9C27B0;
      --category-bg: #1A1A1A;
      --category-border: #444;
      --category-hover: #222;
      --silver: #C0C0C0;
      --dark-silver: #808080;
      --bright-silver: #E8E8E8;
      --purple-accent: #9C27B0;
      --rose-gold: #B76E79;
      --glow-purple: rgba(156, 39, 176, 0.5);
      --glow-silver: rgba(192, 192, 192, 0.5);
    }
    .light-mode {
      /* Enhanced Light Theme - Clean Professional Look */
      --bg: #ffffff;
      --text: #2c3e50;
      --link: #2980b9;
      --link-hover: #e74c3c;
      --timer: #e67e22;
      --hover-bg: #f8f9fa;
      --border: #dee2e6;
      --success: #27ae60;
      --accent: #3498db;
      --category-bg: #f8f9fa;
      --category-border: #e9ecef;
      --category-hover: #e9ecef;
      --silver: #95a5a6;
      --dark-silver: #7f8c8d;
      --gold-bright: #f39c12;
      --gold-dark: #e67e22;
      --red-bright: #e74c3c;
      --red-dark: #c0392b;
      
      /* Category-specific colors */
      --crypto-accent: #f7931a;
      --social-accent: #e74c3c;
      --sports-accent: #3498db;
      --vpn-accent: #8e44ad;
      --instant-accent: #27ae60;
    }
    body {
      font-family: 'Montserrat', sans-serif;
      background: var(--bg);
      color: var(--text);
      margin: 0;
      min-height: 100vh;
      transition: all 0.3s ease-in-out;
      /* Silver and black degen glitter pattern */
      background-image: 
        radial-gradient(circle at 20% 80%, rgba(156, 39, 176, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(192, 192, 192, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(183, 110, 121, 0.06) 0%, transparent 50%),
        url('data:image/svg+xml;utf8,<svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0" y="0" width="80" height="80" fill="%23000000"/><g opacity="0.7"><path d="M40 35l4 8 8-4-8 4-4 8-4-8-8 4 8-4 4-8z" fill="%23C0C0C0"/><path d="M15 15l2.5 5 5-2.5-5 2.5-2.5 5-2.5-5-5 2.5 5-2.5 2.5-5z" fill="%239C27B0"/><path d="M65 65l2.5 5 5-2.5-5 2.5-2.5 5-2.5-5-5 2.5 5-2.5 2.5-5z" fill="%23B76E79"/><circle cx="25" cy="55" r="2" fill="%23C0C0C0" opacity="0.8"/><circle cx="55" cy="25" r="1.5" fill="%239C27B0" opacity="0.9"/><circle cx="10" cy="70" r="1" fill="%23B76E79" opacity="0.7"/><circle cx="70" cy="10" r="2" fill="%23E8E8E8" opacity="0.6"/><rect x="30" y="5" width="1" height="3" fill="%23C0C0C0" opacity="0.5"/><rect x="50" y="75" width="1" height="3" fill="%239C27B0" opacity="0.4"/><circle cx="35" cy="75" r="0.5" fill="%23E8E8E8" opacity="0.8"/><circle cx="75" cy="35" r="0.8" fill="%23B76E79" opacity="0.6"/></g></svg>');
      background-size: 80px 80px;
      background-attachment: fixed;
    }
    .light-mode body {
      /* Premium casino sparkle pattern for light mode */
      background-image: 
        radial-gradient(circle at 20% 80%, rgba(231, 76, 60, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(212, 175, 55, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(149, 165, 166, 0.05) 0%, transparent 50%),
        url('data:image/svg+xml;utf8,<svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0" y="0" width="90" height="90" fill="%23f8f9fa"/><g opacity="0.7"><path d="M45 40l3 6 6-3-6 3-3 6-3-6-6 3 6-3 3-6z" fill="%23d4af37"/><path d="M20 20l2 4 4-2-4 2-2 4-2-4-4 2 4-2 2-4z" fill="%23e74c3c"/><path d="M70 70l2 4 4-2-4 2-2 4-2-4-4 2 4-2 2-4z" fill="%23f39c12"/><circle cx="30" cy="65" r="1.5" fill="%2395a5a6" opacity="0.9"/><circle cx="65" cy="30" r="2" fill="%23d4af37" opacity="0.8"/><circle cx="15" cy="75" r="1" fill="%23e74c3c" opacity="0.7"/><circle cx="75" cy="15" r="1.5" fill="%23f1c40f" opacity="0.8"/></g></svg>');
      background-size: 90px 90px;
      background-attachment: fixed;
    }
    .container { 
      max-width: 800px; 
      margin: auto; 
      padding: 2rem;
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.06) 0%, rgba(189, 195, 199, 0.04) 50%, rgba(192, 57, 43, 0.06) 100%);
      border: 2px solid var(--gold-dark);
      border-radius: 20px;
      margin-top: 2rem;
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.4), 
        0 0 60px rgba(212, 175, 55, 0.15),
        inset 0 1px 0 rgba(189, 195, 199, 0.2),
        inset 0 -1px 0 rgba(0, 0, 0, 0.2);
      backdrop-filter: blur(15px);
      position: relative;
    }
    .container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: 18px;
      padding: 2px;
      background: linear-gradient(45deg, var(--silver), var(--gold-bright), var(--red-bright), var(--gold-dark));
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events: none;
      opacity: 0.6;
    }
    .light-mode .container {
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.08) 0%, rgba(149, 165, 166, 0.06) 50%, rgba(231, 76, 60, 0.08) 100%);
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.15), 
        0 0 60px rgba(212, 175, 55, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.4),
        inset 0 -1px 0 rgba(0, 0, 0, 0.1);
      border: 2px solid var(--gold-dark);
    }
    h1 { 
      font-family: 'Cinzel Decorative', serif;
      text-align: center; 
      font-size: 2.4em; 
      margin-bottom: 1.2em;
      font-weight: 700;
      letter-spacing: -0.01em;
      color: #C0C0C0;
      background: linear-gradient(135deg, var(--bright-silver), var(--silver), var(--purple-accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: glitch 0.8s infinite, silverGlitter 5s ease-in-out infinite; 
      text-shadow: 
        0 0 10px rgba(192, 192, 192, 0.8), 
        0 0 25px rgba(156, 39, 176, 0.6), 
        0 0 40px rgba(192, 192, 192, 0.4), 
        0 3px 6px rgba(0, 0, 0, 0.9);
      position: relative;
    }
    h1::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, var(--gold-bright), var(--red-bright), var(--silver));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      opacity: 0;
      animation: titleFlash 6s infinite;
      z-index: -1;
    }
    .light-mode h1 { 
      animation: goldShimmer 5s ease-in-out infinite;
      text-shadow: 
        0 0 8px rgba(212, 175, 55, 0.6), 
        0 0 15px rgba(149, 165, 166, 0.4), 
        0 2px 4px rgba(0, 0, 0, 0.3);
      font-weight: 700;
    }
    .toggle-mode {
      font-family: 'Cinzel Decorative', serif;
      padding: 16px 36px;
      background: linear-gradient(135deg, #000000 0%, #1A1A1A 50%, #000000 100%);
      color: var(--silver); 
      border: 2px solid;
      border-image: linear-gradient(135deg, var(--silver) 0%, var(--purple-accent) 50%, var(--silver) 100%) 1;
      border-radius: 15px;
      cursor: pointer; 
      font-size: 1.2em; 
      font-weight: 700;
      display: block; 
      margin: 0 auto 1.5em;
      transition: all 0.4s ease;
      box-shadow: 
        0 6px 20px rgba(156, 39, 176, 0.4), 
        0 0 30px rgba(192, 192, 192, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.1),
        inset 0 -1px 0 rgba(0, 0, 0, 0.2);
      text-shadow: 
        0 0 10px rgba(192, 192, 192, 0.8), 
        0 2px 4px rgba(0, 0, 0, 0.9);
      position: relative;
      overflow: hidden;
    }
    .toggle-mode::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transform: rotate(45deg);
      transition: all 0.6s ease;
      opacity: 0;
    }
    .toggle-mode:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 
        0 12px 40px rgba(156, 39, 176, 0.6), 
        0 0 50px rgba(192, 192, 192, 0.5),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      text-shadow: 
        0 0 20px rgba(192, 192, 192, 1), 
        0 0 30px rgba(156, 39, 176, 0.8),
        0 2px 4px rgba(0, 0, 0, 0.9);
      border-image: linear-gradient(135deg, var(--bright-silver) 0%, var(--purple-accent) 50%, var(--bright-silver) 100%) 1;
      animation: buttonGlow 2s ease-in-out infinite;
    }
    .toggle-mode:hover::before {
      opacity: 1;
      animation: shine 1.2s ease-in-out;
    }
    @keyframes shine {
      0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
      100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
    }
    @keyframes buttonGlow {
      0%, 100% { 
        box-shadow: 
          0 12px 40px rgba(156, 39, 176, 0.6), 
          0 0 50px rgba(192, 192, 192, 0.5),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
      }
      50% { 
        box-shadow: 
          0 12px 40px rgba(156, 39, 176, 0.8), 
          0 0 60px rgba(192, 192, 192, 0.7),
          0 0 80px rgba(156, 39, 176, 0.4),
          inset 0 1px 0 rgba(255, 255, 255, 0.3);
      }
    }
    .light-mode .toggle-mode {
      background: linear-gradient(135deg, var(--gold-dark) 0%, var(--silver) 25%, var(--red-bright) 50%, var(--gold-bright) 75%, var(--dark-silver) 100%);
      box-shadow: 
        0 6px 20px rgba(149, 165, 166, 0.4), 
        0 0 25px rgba(212, 175, 55, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.3),
        inset 0 -1px 0 rgba(0, 0, 0, 0.1);
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6);
    }
    .light-mode .toggle-mode:hover {
      box-shadow: 
        0 12px 32px rgba(149, 165, 166, 0.5), 
        0 0 35px rgba(212, 175, 55, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
    }
    .table-row {
      display: grid; 
      grid-template-columns: auto 2fr 1fr 2fr;
      gap: 12px; 
      padding: 18px; 
      margin: 0.8em 0;
      border-radius: 15px; 
      background: linear-gradient(135deg, rgba(28, 28, 28, 0.8) 0%, rgba(44, 44, 44, 0.6) 100%);
      border: 1px solid var(--silver);
      box-shadow: 
        0 4px 12px rgba(0, 0, 0, 0.3),
        0 0 25px rgba(156, 39, 176, 0.1),
        inset 0 1px 0 rgba(192, 192, 192, 0.1);
      min-height: 68px;
      align-items: center;
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
    }
    
    .casino-controls {
      display: flex;
      flex-direction: column;
      gap: 2px;
      z-index: 10;
      position: relative;
    }
    
    .favorite-btn, .hide-btn {
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid var(--silver);
      color: var(--silver);
      font-size: 1em;
      cursor: pointer;
      padding: 4px;
      border-radius: 4px;
      transition: all 0.2s ease;
      width: 28px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      position: relative;
    }
    
    .favorite-btn:hover {
      background: rgba(255, 215, 0, 0.3);
      border-color: gold;
      color: gold;
      transform: scale(1.1);
      text-shadow: 0 0 4px gold;
    }
    
    .hide-btn:hover {
      background: rgba(255, 0, 0, 0.3);
      border-color: #ff6b6b;
      color: #ff6b6b;
      transform: scale(1.1);
    }
    .table-row::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(241, 196, 15, 0.1), transparent);
      transition: left 0.6s ease;
    }
    .table-row:hover { 
      background: linear-gradient(135deg, var(--red-dark) 0%, var(--gold-dark) 50%, var(--red-bright) 100%);
      color: #fff; 
      transform: translateY(-3px) scale(1.01);
      box-shadow: 
        0 12px 30px rgba(192, 57, 43, 0.4), 
        0 0 40px rgba(241, 196, 15, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      border-color: var(--silver);
    }
    .table-row:hover::before {
      left: 100%;
    }
    .light-mode .table-row {
      background: linear-gradient(135deg, rgba(236, 240, 241, 0.9) 0%, rgba(255, 255, 255, 0.7) 100%);
      border: 1px solid var(--silver);
      box-shadow: 
        0 4px 12px rgba(0, 0, 0, 0.1),
        0 0 25px rgba(212, 175, 55, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.5);
    }
    .light-mode .table-row:hover { 
      background: linear-gradient(135deg, var(--gold-dark) 0%, var(--red-bright) 50%, var(--gold-bright) 100%);
      color: #fff; 
      box-shadow: 
        0 12px 30px rgba(212, 175, 55, 0.4), 
        0 0 40px rgba(231, 76, 60, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
      border-color: var(--dark-silver);
    }
    /* Premium Casino-style link effects */
    .table-row a {
      color: var(--gold-bright);
      text-decoration: none;
      font-weight: 700;
      padding: 0.6em 1.2em;
      border-radius: 10px;
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
      background: linear-gradient(135deg, rgba(241, 196, 15, 0.1), rgba(189, 195, 199, 0.05));
      border: 1px solid rgba(212, 175, 55, 0.3);
      text-shadow: 0 0 8px rgba(241, 196, 15, 0.6);
    }
    .table-row a::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }
    .table-row a:hover {
      color: #fff;
      background: linear-gradient(135deg, var(--gold-bright), var(--red-bright));
      border-color: var(--silver);
      text-shadow: 
        0 0 15px rgba(255, 255, 255, 0.9),
        0 2px 4px rgba(0, 0, 0, 0.7);
      transform: scale(1.05);
    }
    .table-row a:hover::before {
      left: 100%;
    }
    .light-mode .table-row a {
      color: var(--gold-dark);
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(149, 165, 166, 0.05));
      border-color: rgba(212, 175, 55, 0.4);
      text-shadow: 0 0 6px rgba(212, 175, 55, 0.5);
    }
    .light-mode .table-row a:hover {
      background: linear-gradient(135deg, var(--gold-dark), var(--red-bright));
      text-shadow: 
        0 0 12px rgba(255, 255, 255, 0.8),
        0 1px 3px rgba(0, 0, 0, 0.6);
    }
    
    /* Category Section Styling */
    .category-section {
      margin: 2em 0;
      background: var(--category-bg);
      border: 1px solid var(--category-border);
      border-radius: 12px;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .category-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.5rem;
      background: linear-gradient(135deg, var(--category-bg) 0%, var(--category-hover) 100%);
      border-bottom: 1px solid var(--category-border);
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .category-header:hover {
      background: linear-gradient(135deg, var(--category-hover) 0%, var(--hover-bg) 100%);
    }
    
    .category-title {
      font-size: 1.2em;
      font-weight: 600;
      color: var(--text);
      margin: 0;
      display: flex;
      align-items: center;
      gap: 0.5em;
    }
    
    .category-count {
      background: var(--accent);
      color: white;
      padding: 0.2em 0.6em;
      border-radius: 20px;
      font-size: 0.8em;
      font-weight: bold;
      min-width: 1.5em;
      text-align: center;
    }
    
    .category-toggle {
      font-size: 1.2em;
      transition: transform 0.3s ease;
      color: var(--text);
    }
    
    .category-section.collapsed .category-toggle {
      transform: rotate(-90deg);
    }
    
    .category-content {
      padding: 0;
      max-height: 2000px;
      overflow: hidden;
      transition: max-height 0.4s ease, padding 0.3s ease;
    }
    
    .category-section.collapsed .category-content {
      max-height: 0;
      padding: 0;
    }
    
    /* Category-specific accent colors */
    .category-crypto .category-title { color: var(--crypto-accent); }
    .category-social .category-title { color: var(--social-accent); }
    .category-sports .category-title { color: var(--sports-accent); }
    .category-vpn .category-title { color: var(--vpn-accent); }
    .category-instant .category-title { color: var(--instant-accent); }
    
    
    .last-collected.available {
      animation: pulseSilverGlow 2.5s infinite;
      text-shadow: 0 0 4px #000, 0 0 8px #000;
      font-weight: 700;
      color: var(--silver);
    }
    .last-collected.timer {
      animation: pulsePurpleGlow 2.5s infinite;
      text-shadow: 0 0 4px #000, 0 0 8px #000;
      font-weight: 700;
      color: var(--purple-accent);
    }
    @keyframes pulsePurpleGlow {
      0%,100% { 
        color: var(--purple-accent); 
        text-shadow: 
          0 0 10px var(--purple-accent), 
          0 0 20px var(--rose-gold), 
          0 0 4px #000; 
      }
      25% { 
        color: var(--rose-gold); 
        text-shadow: 
          0 0 15px var(--rose-gold), 
          0 0 25px var(--purple-accent), 
          0 0 4px #000; 
      }
      50% { 
        color: var(--bright-silver); 
        text-shadow: 
          0 0 18px var(--bright-silver), 
          0 0 30px var(--purple-accent), 
          0 0 4px #000; 
      }
    }
    @keyframes pulseSilverGlow {
      0%,100% { 
        color: var(--silver); 
        text-shadow: 
          0 0 10px var(--silver), 
          0 0 20px var(--purple-accent), 
          0 0 4px #000; 
      }
      25% { 
        color: var(--purple-accent); 
        text-shadow: 
          0 0 15px var(--purple-accent), 
          0 0 25px var(--bright-silver), 
          0 0 4px #000; 
      }
      50% { 
        color: var(--bright-silver); 
        text-shadow: 
          0 0 18px var(--bright-silver), 
          0 0 30px var(--silver), 
          0 0 4px #000; 
      }
    }
    .light-mode .last-collected.available {
      text-shadow: 
        0 0 12px var(--gold-dark), 
        0 0 20px var(--gold-bright),
        0 1px 2px rgba(0, 0, 0, 0.3);
      color: var(--gold-dark);
    }
    .light-mode .last-collected.timer {
      text-shadow: 
        0 0 12px var(--red-bright), 
        0 0 20px var(--red-dark),
        0 1px 2px rgba(0, 0, 0, 0.3);
      color: var(--red-bright);
    }
    @keyframes glitch {
      0% { transform: none; }
      20% { transform: translate(-1px, 1px); }
      40% { transform: translate(1px, -1px); }
      60% { transform: translate(-1px, -1px); }
      80% { transform: translate(1px, 1px); }
      100% { transform: none; }
    }
    /* Casino Glitter Effects */
    @keyframes goldShimmer {
      0%, 100% { 
        text-shadow: 
          0 0 8px var(--gold-bright), 
          0 0 15px var(--gold-dark), 
          0 0 25px var(--silver),
          0 3px 6px rgba(0, 0, 0, 0.8);
        transform: scale(1);
      }
      25% { 
        text-shadow: 
          0 0 15px var(--silver), 
          0 0 25px var(--gold-bright), 
          0 0 35px var(--red-bright),
          0 3px 6px rgba(0, 0, 0, 0.9);
        transform: scale(1.01);
      }
      50% { 
        text-shadow: 
          0 0 12px var(--red-bright), 
          0 0 22px var(--gold-bright), 
          0 0 32px var(--silver),
          0 3px 6px rgba(0, 0, 0, 0.8);
        transform: scale(1.02);
      }
      75% { 
        text-shadow: 
          0 0 10px var(--gold-dark), 
          0 0 20px var(--silver), 
          0 0 30px var(--gold-bright),
          0 3px 6px rgba(0, 0, 0, 0.9);
        transform: scale(1.01);
      }
    }
    @keyframes titleFlash {
      0%, 95%, 100% { opacity: 0; }
      96%, 99% { opacity: 0.3; }
    }
    @keyframes sparkle {
      0%, 50%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
      25%, 75% { opacity: 1; transform: scale(1) rotate(180deg); }
    }
    @keyframes silverGlitter {
      0%, 100% { 
        text-shadow: 
          0 0 8px var(--silver), 
          0 0 15px var(--purple-accent), 
          0 0 25px var(--bright-silver),
          0 3px 6px rgba(0, 0, 0, 0.9);
        transform: scale(1);
      }
      25% { 
        text-shadow: 
          0 0 12px var(--purple-accent), 
          0 0 22px var(--silver), 
          0 0 32px var(--rose-gold),
          0 3px 6px rgba(0, 0, 0, 0.8);
        transform: scale(1.02);
      }
      50% { 
        text-shadow: 
          0 0 12px var(--rose-gold), 
          0 0 22px var(--bright-silver), 
          0 0 32px var(--purple-accent),
          0 3px 6px rgba(0, 0, 0, 0.8);
        transform: scale(1.02);
      }
      75% { 
        text-shadow: 
          0 0 10px var(--bright-silver), 
          0 0 20px var(--purple-accent), 
          0 0 30px var(--silver),
          0 3px 6px rgba(0, 0, 0, 0.9);
        transform: scale(1.01);
      }
    }
    /* Add premium sparkle effects to available bonuses */
    .last-collected.available {
      position: relative;
      animation: pulseGlow 2.5s infinite, goldShimmer 4s ease-in-out infinite;
    }
    .last-collected.available::after {
      content: '✨';
      position: absolute;
      right: -25px;
      top: 50%;
      transform: translateY(-50%);
      animation: sparkle 2.2s infinite;
      font-size: 0.9em;
      filter: drop-shadow(0 0 6px var(--gold-bright));
    }
    .last-collected.available::before {
      content: '💎';
      position: absolute;
      left: -25px;
      top: 50%;
      transform: translateY(-50%);
      animation: sparkle 2.8s infinite reverse;
      font-size: 0.7em;
      filter: drop-shadow(0 0 4px var(--silver));
    }
    footer {
      text-align: center; 
      margin-top: 3em; 
      padding: 2.5em 0;
      font-size: 0.95em; 
      background: linear-gradient(135deg, rgba(28, 28, 28, 0.9) 0%, rgba(44, 44, 44, 0.8) 100%);
      border-top: 2px solid var(--gold-dark);
      backdrop-filter: blur(15px);
      box-shadow: 
        0 -4px 20px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(189, 195, 199, 0.1);
    }
    footer a { 
      color: var(--gold-bright); 
      text-decoration: none;
      font-weight: 600;
      transition: all 0.4s ease;
      text-shadow: 0 0 8px rgba(241, 196, 15, 0.6);
      padding: 0.3em 0.6em;
      border-radius: 8px;
      background: linear-gradient(135deg, rgba(241, 196, 15, 0.1), rgba(189, 195, 199, 0.05));
    }
    footer a:hover { 
      color: var(--silver); 
      text-shadow: 
        0 0 15px rgba(189, 195, 199, 0.9),
        0 0 25px rgba(241, 196, 15, 0.6);
      background: linear-gradient(135deg, rgba(189, 195, 199, 0.2), rgba(241, 196, 15, 0.1));
      transform: translateY(-2px);
    }
    .light-mode footer a:hover {
      text-shadow: 
        0 0 12px rgba(149, 165, 166, 0.8),
        0 0 20px rgba(212, 175, 55, 0.6);
    }
    .profile-pic {
      width: 36px; height: 36px; border-radius: 50%; object-fit: cover;
      border: 2px solid #5865F2; box-shadow: 0 1px 4px #5865F299;
    }
    .tooltip .tooltiptext {
      visibility: hidden; width: max-content; background-color: #222;
      color: #fff; text-align: center; border-radius: 6px; padding: 5px 10px;
      position: absolute; z-index: 1; bottom: 125%; left: 50%;
      transform: translateX(-50%); opacity: 0; transition: opacity 0.3s;
    }
    .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; }
    .toast {
      position: fixed; bottom: 1em; left: 50%; transform: translateX(-50%);
      background: #000; color: #fff; padding: 10px 20px; border-radius: 10px;
      opacity: 0; transition: opacity 0.3s ease; pointer-events: none;
    }
    .toast.show { opacity: 1; }
    .toggle-row {
      display: flex; flex-direction: column; align-items: center;
      justify-content: center; gap: 0.7em; margin-bottom: 1em; flex-wrap: wrap;
    }
    .info-btn {
      background: none; border: none; color: #5865F2; font-size: 1.3em;
      cursor: pointer; padding: 0 0.2em; border-radius: 50%;
      transition: background 0.2s; display: flex; align-items: center; justify-content: center;
    }
    .info-btn:active, .info-btn.active { background: #e0e7ff; }
    .info-popup {
      position: fixed; top: 60px; left: 50%; transform: translateX(-50%);
      background: #fff; color: #222; border-radius: 12px;
      box-shadow: 0 4px 24px rgba(34,34,59,0.12);
      padding: 1.2em 1.5em; z-index: 2000; font-size: 1.1em;
      max-width: 90vw; min-width: 220px; text-align: center; display: none;
    }
    .search-bar {
      width: 100%;
      max-width: 400px;
      margin: 0 auto 1em auto;
      display: flex;
      align-items: center;
      gap: 0.5em;
    }
    .search-bar input[type="search"] {
      flex: 1;
      padding: 0.8em 1.2em;
      font-size: 1.1em;
      border-radius: 10px;
      border: 2px solid var(--border);
      background: var(--bg);
      color: var(--text);
      outline: none;
      transition: all 0.3s ease;
    }
    .search-bar input[type="search"]:focus {
      border: 2px solid var(--accent);
      box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
    }
    .light-mode .search-bar input[type="search"]:focus {
      border: 2px solid var(--accent);
      box-shadow: 0 0 12px rgba(255, 0, 128, 0.3);
    }
    .search-bar button {
      padding: 0.8em 1.4em;
      border-radius: 10px;
      border: none;
      background: var(--accent);
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      font-size: 1.1em;
      transition: all 0.3s ease;
    }
    .search-bar button:hover {
      background: var(--link-hover);
      transform: translateY(-1px);
      box-shadow: 0 4px 16px rgba(185, 28, 28, 0.4), 0 0 20px rgba(251, 191, 36, 0.2);
    }
    .light-mode .search-bar button:hover {
      box-shadow: 0 4px 16px rgba(220, 38, 38, 0.5), 0 0 25px rgba(251, 191, 36, 0.3);
      text-shadow: 0 0 8px rgba(251, 191, 36, 0.8);
    }
    @media (max-width: 600px) {
      .container { padding: 0.5em; }
      .toggle-row { flex-direction: column; gap: 0.7em; }
      .info-popup { top: 90px; font-size: 1em; padding: 1em; }
      h1 { font-size: 1.2em; }
      .table-row { font-size: 0.98em; }
      .profile-pic { width: 28px; height: 28px; }
      .table-row a {
        font-size: 1.05em;
        min-width: 90px;
        padding: 0.7em 0.2em;
      }
      .table-row input[type="checkbox"] {
        width: 2.5em;
        height: 2.5em;
      }
    }
    
    /* Casino Information Cards */
    .casino-info-btn {
      background: var(--accent);
      border: none;
      border-radius: 6px;
      color: white;
      padding: 0.4em 0.8em;
      font-size: 0.85em;
      cursor: pointer;
      margin-left: 0.5em;
      transition: all 0.3s ease;
      opacity: 0.8;
    }
    
    .casino-info-btn:hover {
      opacity: 1;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
    
    .casino-info-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      backdrop-filter: blur(8px);
    }
    
    .casino-info-card {
      background: var(--bg);
      border: 2px solid var(--accent);
      border-radius: 20px;
      padding: 2em;
      max-width: 500px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.5),
        0 0 40px var(--glow-purple);
      position: relative;
      animation: cardSlideIn 0.4s ease-out;
    }
    
    @keyframes cardSlideIn {
      from {
        opacity: 0;
        transform: scale(0.9) translateY(30px);
      }
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }
    
    .casino-info-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5em;
      border-bottom: 2px solid var(--border);
      padding-bottom: 1em;
    }
    
    .casino-info-title {
      font-size: 1.5em;
      font-weight: bold;
      color: var(--accent);
      font-family: 'Cinzel Decorative', serif;
    }
    
    .casino-info-close {
      background: var(--link-hover);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      color: white;
      font-size: 1.2em;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .casino-info-close:hover {
      transform: rotate(90deg);
      box-shadow: 0 0 15px var(--link-hover);
    }
    
    .casino-info-content {
      line-height: 1.6;
    }
    
    .casino-info-field {
      margin-bottom: 1.2em;
      padding: 1em;
      background: var(--hover-bg);
      border-radius: 12px;
      border-left: 4px solid var(--accent);
    }
    
    .casino-info-label {
      font-weight: bold;
      color: var(--accent);
      display: block;
      margin-bottom: 0.5em;
      font-size: 0.9em;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .casino-info-value {
      color: var(--text);
      font-size: 1em;
    }
    
    .trust-score {
      display: flex;
      align-items: center;
      gap: 1em;
    }
    
    .trust-score-bar {
      flex: 1;
      height: 8px;
      background: var(--border);
      border-radius: 4px;
      overflow: hidden;
    }
    
    .trust-score-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--link-hover), var(--success));
      border-radius: 4px;
      transition: width 0.8s ease;
    }
    
    .trust-score-number {
      font-weight: bold;
      font-size: 1.1em;
      color: var(--success);
    }
    
    .casino-category-badge {
      display: inline-block;
      padding: 0.3em 0.8em;
      background: var(--category-bg);
      border: 1px solid var(--category-border);
      border-radius: 20px;
      font-size: 0.8em;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-top: 0.5em;
    }
    
    @media (max-width: 600px) {
      .casino-info-card {
        padding: 1.5em;
        width: 95%;
        max-height: 90vh;
      }
      
      .casino-info-btn {
        font-size: 0.75em;
        padding: 0.3em 0.6em;
      }
    }
  </style>
</head>
<body>


  <div class="container">
    <div id="user-info" style="display:flex;align-items:center;gap:12px;justify-content:center;margin-bottom:1em;"></div>
    <h1>Degen mode activated. Don't forget the juice ⚡</h1>
    <a id="discord-login-btn" class="login-btn" href="#" style="display:inline-block;margin:0 auto 1em auto;padding:10px 20px;background:#5865F2;color:#fff;border-radius:8px;text-decoration:none;font-weight:bold;">Login with Discord</a>
    <div class="toggle-row">
      <button id="mode-toggle" class="toggle-mode">Untilt</button>
      <button id="info-btn" class="info-btn" aria-label="Info" tabindex="0">ⓘ</button>
      <button id="admin-btn" class="admin-btn" aria-label="Admin Panel" tabindex="0" style="padding:8px 16px;background:#2c3e50;color:#fff;border:none;border-radius:8px;font-size:0.9em;cursor:pointer;">Admin</button>
    </div>
    <div id="info-popup" class="info-popup" role="dialog" aria-modal="true" aria-hidden="true">Switch between raw and referral links.<br>Tilt Mode supports dev, Untilt is mod-safe.</div>
    <form class="search-bar" id="casino-search-form" autocomplete="off" onsubmit="return false;">
      <input type="search" id="casino-search" placeholder="Search casinos..." aria-label="Search casinos" />
      <button type="button" id="casino-search-clear" aria-label="Clear search" tabindex="0" style="display:none;">✕</button>
    </form>
    <div id="casino-table-available"></div>
    <div id="casino-table-cooldown" style="margin-top:2.5em;"></div>
    <div class="cta-premium" style="text-align:center;margin:1.5em 0 1em 0;"></div>
    <div id="bonus-count" style="text-align:right;font-size:1.1em;font-weight:bold;margin-bottom:0.5em;"></div>
  </div>
  <footer>
    <div id="footer-info" style="margin-bottom:1.2em;">
      made for degens by degens ❤️<br/>
      💡 Suggest a casino? <a href="https://discord.gg/3hmXPwwa" target="_blank" rel="noopener">Drop it in Discord</a><br/>
      ☕ Powered by <a href="https://ko-fi.com/jmenichole0" target="_blank" rel="noopener">Ko-fi</a>
    </div>
   
    <button id="reset-timers-btn" style="position:absolute;right:18px;bottom:18px;padding:7px 18px;font-size:0.98em;border-radius:8px;background:#e0e7ef;color:#333;border:none;box-shadow:0 2px 8px #0001;opacity:0.7;transition:opacity 0.2s;z-index:10000;cursor:pointer;outline:none;min-width:120px;" title="Reset all casino timers">Reset All Timers</button>
  </footer>
  <style>
    @media (max-width: 600px) {
      #reset-timers-btn {
        right: 10px;
        bottom: 10px;
        font-size: 0.92em;
        min-width: 90px;
        padding: 6px 10px;
      }
    }
    #reset-timers-btn:hover, #reset-timers-btn:focus {
      opacity: 1;
      background: #ffe0e7;
      color: #e91e63;
    }
    </style>
  <div class="toast" aria-live="polite"></div>
  <div id="gif-popup" style="display:none;"></div>
  <div id="bonus-modal" style="display:none;position:fixed;z-index:3000;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.45);align-items:center;justify-content:center;">
    <div style="background:#fff;color:#222;padding:2em 1.5em;border-radius:16px;box-shadow:0 4px 24px #000a;max-width:90vw;text-align:center;">
      <div id="bonus-modal-msg" style="font-size:1.15em;margin-bottom:1.2em;"></div>
      <button id="bonus-modal-yes" style="padding:10px 28px;margin:0 1em 0 0;background:#2cb67d;color:#fff;border:none;border-radius:8px;font-size:1em;font-weight:bold;cursor:pointer;">Yes</button>
      <button id="bonus-modal-no" style="padding:10px 28px;background:#e91e63;color:#fff;border:none;border-radius:8px;font-size:1em;font-weight:bold;cursor:pointer;">No</button>
    </div>
  </div>
  
  <!-- Casino Information Modal -->
  <div id="casino-info-modal" class="casino-info-modal">
    <div class="casino-info-card">
      <div class="casino-info-header">
        <h3 id="casino-info-title" class="casino-info-title">Casino Information</h3>
        <button class="casino-info-close" onclick="closeCasinoInfo()">✕</button>
      </div>
      <div id="casino-info-content" class="casino-info-content">
        <!-- Content will be populated dynamically -->
      </div>
    </div>
  </div>
  
  <div id="admin-panel" style="display:none;position:fixed;z-index:3000;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.8);align-items:center;justify-content:center;">
    <div style="background:#fff;color:#222;padding:2em;border-radius:16px;box-shadow:0 4px 24px #000a;max-width:90vw;max-height:90vh;overflow:auto;min-width:600px;">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:2em;">
        <h2 style="margin:0;">Admin Panel</h2>
        <button id="admin-close-btn" style="background:#e91e63;color:#fff;border:none;border-radius:50%;width:30px;height:30px;cursor:pointer;font-size:18px;">×</button>
      </div>
      <div id="admin-stats">
        <h3>Casino Link Statistics</h3>
        <div id="admin-clicks-list" style="max-height:400px;overflow:auto;border:1px solid #ddd;padding:1em;border-radius:8px;background:#f9f9f9;">
          <p>Loading statistics...</p>
        </div>
      </div>
    </div>
  </div>
  <div id="admin-password-modal" style="display:none;position:fixed;z-index:3001;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.8);align-items:center;justify-content:center;">
    <div style="background:#fff;color:#222;padding:2em 1.5em;border-radius:16px;box-shadow:0 4px 24px #000a;max-width:400px;text-align:center;">
      <h3 style="margin:0 0 1em 0;">Admin Access</h3>
      <input type="password" id="admin-password-input" placeholder="Enter password" style="width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;font-size:1em;margin-bottom:1em;">
      <div>
        <button id="admin-password-submit" style="padding:10px 28px;margin:0 1em 0 0;background:#2cb67d;color:#fff;border:none;border-radius:8px;font-size:1em;font-weight:bold;cursor:pointer;">Login</button>
        <button id="admin-password-cancel" style="padding:10px 28px;background:#e91e63;color:#fff;border:none;border-radius:8px;font-size:1em;font-weight:bold;cursor:pointer;">Cancel</button>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
  (function() {
    // --- Sound asset URLs (using local files) ---
    const tiltSound = new Audio("assets/audio/798635__cvltiv8r__cvlt-bass-94.wav");
    const untiltSound = new Audio("assets/audio/810164__mokasza__awesome-bubble-pop.mp3");
    const uwuSound = new Audio("assets/audio/800976__sadiquecat__other-uwu-2.wav");

    // --- Discord OAuth ---
    const DISCORD_CLIENT_ID = "1336968746450812928";
    const discordLoginBtn = document.getElementById('discord-login-btn');
    const userInfoDiv = document.getElementById('user-info');
    function renderUserInfo() {
      const user = JSON.parse(localStorage.getItem("discordUser") || "{}");
      userInfoDiv.innerHTML = "";
      if (user && user.username) {
        let avatarUrl = user.avatar
          ? `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png`
          : `https://cdn.discordapp.com/embed/avatars/${(user.discriminator % 5)}.png`;
        userInfoDiv.innerHTML = `<img src="${avatarUrl}" class="profile-pic" alt="Profile" /> <span style='font-weight:bold;'>${user.username}#${user.discriminator}</span>`;
        if (discordLoginBtn) discordLoginBtn.style.display = "none";
      } else {
        if (discordLoginBtn) discordLoginBtn.style.display = "inline-block";
      }
    }
    if (discordLoginBtn && DISCORD_CLIENT_ID) {
      const redirect = encodeURIComponent(window.location.origin + window.location.pathname.replace(/\/[^/]*$/, '/auth.html'));
      discordLoginBtn.href = `https://discord.com/oauth2/authorize?client_id=${DISCORD_CLIENT_ID}&redirect_uri=${redirect}&response_type=token&scope=identify`;
    }
    renderUserInfo();
    window.addEventListener('storage', function(e) {
      if (e.key === 'discordUser') renderUserInfo();
    });

    const gifUrls = [
      "https://media.giphy.com/media/3o6Zt6ML6BklcajjsA/giphy.gif",
      "https://media.giphy.com/media/l0HUpt2s9Pclgt9Vm/giphy.gif",
      "https://media.giphy.com/media/3ohc1bTn4ZDEd4nSSA/giphy.gif"
    ];
    window.casinoData = [
      // 🪙 Crypto Casinos
      { 
        name: "TrustDice", 
        tilted: "https://trustdice.win/faucet/?ref=u_jmenichole", 
        clean: "https://trustdice.win", 
        category: "crypto",
        info: {
          dailyBonus: "Free coins + 25% rakeback",
          frequency: "Every 24 hours",
          redemption: "Instant",
          timeframe: "No minimum withdrawal",
          notes: "Provably fair games, cryptocurrency focus",
          trustScore: 85
        }
      },
      { 
        name: "Stake US", 
        tilted: "https://stake.us/?c=Jmenichole", 
        clean: "https://stake.us", 
        category: "crypto",
        info: {
          dailyBonus: "10,000 GC + 1 Stake Cash (SC)",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "No wagering requirement",
          notes: "US-licensed, sweepstakes casino",
          trustScore: 92
        }
      },
      { 
        name: "Bitsler", 
        tilted: "https://www.bitsler.io/?ref=jmenichole", 
        clean: "https://www.bitsler.io", 
        category: "crypto",
        info: {
          dailyBonus: "0.0001+ BTC faucet",
          frequency: "Every 6 hours",
          redemption: "Instant",
          timeframe: "0.001 BTC minimum withdrawal",
          notes: "Multi-crypto support, established 2015",
          trustScore: 88
        }
      },
      { name: "Rolla", tilted: "https://www.rolla.com/?raf=3873", clean: "https://www.rolla.com", category: "crypto" },
      { 
        name: "Punt", 
        tilted: "https://punt.com/c/cg60pd", 
        clean: "https://punt.com", 
        category: "crypto",
        info: {
          dailyBonus: "1,000 GC + 0.10 SC every hour (up to 24,000 GC + 2.4 SC/day)",
          frequency: "Hourly (each 1h)",
          redemption: "Instant (after claim)",
          timeframe: "No minimum withdrawal",
          notes: "Unique hourly bonus system, crypto focus",
          trustScore: 89
        }
      },
      { name: "Shuffle.us", tilted: "https://shuffle.us?r=jmenichole", clean: "https://shuffle.us", category: "crypto" },
      
      // ⚡ Instant Cashout
      { 
        name: "WowVegas", 
        tilted: "https://www.wowvegas.com/?raf=3615494", 
        clean: "https://www.wowvegas.com", 
        category: "instant",
        info: {
          dailyBonus: "~750–175,000+ WOW Coins and ~0.1–3.5+ SC (by VIP level)",
          frequency: "Daily (wheel spin)",
          redemption: "Instant (spin on login)",
          timeframe: "Instant for crypto, 3-5 days for bank",
          notes: "Social casino, sweepstakes model with VIP scaling",
          trustScore: 90
        }
      },
      { 
        name: "Pulsz", 
        tilted: "https://www.pulsz.com/?invited_by=utfk4r", 
        clean: "https://www.pulsz.com", 
        category: "instant",
        info: {
          dailyBonus: "2,500 GC + 0.30 SC (rising with streak)",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "Instant crypto, 1-3 days ACH",
          notes: "Established sweepstakes platform with streak bonuses",
          trustScore: 94
        }
      },
      { name: "Modo", tilted: "https://modo.us?referralCode=61MN6A", clean: "https://modo.us", category: "instant" },
      { 
        name: "McLuck", 
        tilted: "https://www.mcluck.com/lp/raf?r=61119407%2F908900038", 
        clean: "https://www.mcluck.com", 
        category: "instant",
        info: {
          dailyBonus: "2,500 GC + up to 2.5 SC (random)",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Random bonus amounts with high SC potential",
          trustScore: 88
        }
      },
      { 
        name: "Crown Coins", 
        tilted: "https://crowncoinscasino.com/", 
        clean: "https://crowncoinscasino.com", 
        category: "instant",
        info: {
          dailyBonus: "5,000 GC (Day 1) up to 100,000 GC (Day 30)",
          frequency: "Daily (resets 6 AM ET)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Progressive daily bonus increasing with consecutive logins",
          trustScore: 85
        }
      },
      { 
        name: "Chanced", 
        tilted: "https://chanced.com/c/ysa096", 
        clean: "https://chanced.com", 
        category: "instant",
        info: {
          dailyBonus: "~5,000–20,000 Gold Coins + up to 1 Sweeps Coin",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Variable bonus amounts, increasing each day",
          trustScore: 82
        }
      },
      { name: "Pulsz Bingo", tilted: "https://www.pulszbingo.com/?invited_by=eg6mbf", clean: "https://www.pulszbingo.com", category: "instant" },
      { 
        name: "Zula Casino", 
        tilted: "https://www.zulacasino.com/signup/221ddd92-862e-45d8-acc0-4cd2c26f7cdd", 
        clean: "https://www.zulacasino.com", 
        category: "instant",
        info: {
          dailyBonus: "10,000 GC + 1 SC",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "High daily sweeps coin bonus",
          trustScore: 87
        }
      },
      { 
        name: "Fortune Coins", 
        tilted: "https://www.fortunecoins.com/signup/3c08936f-8979-4f87-b377-efdbff519029", 
        clean: "https://www.fortunecoins.com", 
        category: "instant",
        info: {
          dailyBonus: "Up to 300,000 GC + 100 FC (≈1 SC) per 7-day cycle",
          frequency: "Daily (6-day streak)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Weekly cycle with massive bonus potential",
          trustScore: 89
        }
      },
      { 
        name: "High 5 Casino", 
        tilted: "https://high5casino.com/gc?adId=INV001%3AJmenichole", 
        clean: "https://high5casino.com", 
        category: "instant",
        info: {
          dailyBonus: "~0.1 SC per day (plus small GC/diamond bonuses)",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Focus on sweeps coins with additional diamond rewards",
          trustScore: 83
        }
      },
      { name: "Scrooge Casino", tilted: "https://refer.scrooge.casino/674fb6c5fbffe157e92556c8-1740545357394", clean: "https://scrooge.casino", category: "instant" },
      { name: "American Luck", tilted: "https://americanluck.com/signup/e360918f-8986-4dec-9823-a902d3f4936a", clean: "https://americanluck.com", category: "instant" },
      
      // Missing major casinos from PDF
      { 
        name: "Chumba Casino", 
        tilted: "https://chumbacasino.com", 
        clean: "https://chumbacasino.com", 
        category: "instant",
        info: {
          dailyBonus: "200,000 GC + 1 SC",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "One of the largest daily GC bonuses available",
          trustScore: 95
        }
      },
      {
        name: "Global Poker",
        tilted: "https://globalpoker.com",
        clean: "https://globalpoker.com",
        category: "social",
        info: {
          dailyBonus: "1,000 GC (base) up to 2,500 GC (Day 7 streak)",
          frequency: "Daily (7-day cycle)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Poker-focused with streak bonuses, Gold Coins as poker chips",
          trustScore: 91
        }
      },
      {
        name: "LuckyLand Slots",
        tilted: "https://luckyland.com",
        clean: "https://luckyland.com",
        category: "instant",
        info: {
          dailyBonus: "2,400 GC + 0.3 SC (Days 1–6); 1.0 SC (Day 7) + 400 GC every 4h",
          frequency: "Daily/4h",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Unique 4-hour bonus system plus daily streak",
          trustScore: 93
        }
      },
      
      // 🏆 Sports Betting
      { name: "Sportzino", tilted: "https://sportzino.com/signup/8a105ba6-7ada-45c8-b021-f478ac03c7c4", clean: "https://sportzino.com", category: "sports" },
      { name: "Slips", tilted: "https://slips.com/invite?code=6901", clean: "https://slips.com", category: "sports" },
      { name: "PrizePicks", tilted: "https://app.prizepicks.com/sign-up?invite_code=PR-N0MTQX8&source=iosShare", clean: "https://app.prizepicks.com", category: "sports" },
      { name: "Dabble", tilted: "https://click.dabble.com/GaFA/js1v7hqv", clean: "https://dabble.com", category: "sports" },
      
      // 🌐 VPN Required
      { name: "Gamba VPN", tilted: "https://gamba.com?c=Jme", clean: "https://gamba.com", category: "vpn" },
      { name: "Goated VPN", tilted: "https://www.goated.com/r/YDRZLJ", clean: "https://www.goated.com", category: "vpn" },
      { name: "JungleBet VPN", tilted: "https://junglebet.com/r/jmenichole", clean: "https://junglebet.com", category: "vpn" },
      { name: "Shuffle.com VPN", tilted: "https://shuffle.com?r=jHR7JnWRPF", clean: "https://shuffle.com", category: "vpn" },
      { name: "Stake.com VPN", tilted: "https://www.stake.com/?c=LAYP68hb", clean: "https://www.stake.com", category: "vpn" },
      { name: "MetaWin VPN", tilted: "https://metawin.com/jmenichole007/", clean: "https://metawin.com", category: "vpn" },
      { name: "The Money Factory VPN", tilted: "https://www.themoneyfactory.com/referral?referralcode=dcd04112-f619-48ee-aec6-2e5a84c9a6d2", clean: "https://www.themoneyfactory.com", category: "vpn" },
      { name: "Thrill VPN", tilted: "https://thrill.com/?r=3E8477CE-1756119554", clean: "https://thrill.com", category: "vpn" },
      
      // 🎰 Social Casinos
      { name: "MetaWin", tilted: "https://metawin.com/jmenichole007/", clean: "https://metawin.com", category: "social" },
      { name: "SpinBlitz", tilted: "https://www.spinblitz.com/lp/raf?r=606f64a3%2F1246446739", clean: "https://www.spinblitz.com", category: "social" },
      { 
        name: "Hello Millions", 
        tilted: "https://www.hellomillions.com/lp/raf?r=26d6760f%2F1236643867", 
        clean: "https://www.hellomillions.com", 
        category: "social",
        info: {
          dailyBonus: "~1,500 GC + 0.2 SC per daily spin",
          frequency: "Daily (24h)",
          redemption: "Instant (spin on login)",
          timeframe: "Instant withdrawal",
          notes: "Daily wheel spin bonus system",
          trustScore: 84
        }
      },
      { 
        name: "Mega Bonanza", 
        tilted: "https://www.megabonanza.com/?r=72781897", 
        clean: "https://www.megabonanza.com", 
        category: "social",
        info: {
          dailyBonus: "1,500 GC + 0.20 SC",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Consistent daily bonus amounts",
          trustScore: 81
        }
      },
      { 
        name: "Real Prize", 
        tilted: "https://www.realprize.com/refer/317136", 
        clean: "https://www.realprize.com", 
        category: "social",
        info: {
          dailyBonus: "Base 1,500 GC + 0.30 SC (increases via VIP to 25k GC + 5 SC)",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "VIP scaling with massive bonus potential",
          trustScore: 86
        }
      },
      { 
        name: "LuckyBird", 
        tilted: "https://luckybird.vip/?c=c_jmenichole", 
        clean: "https://luckybird.vip", 
        category: "social",
        info: {
          dailyBonus: "~2,000 GC + 0.2 SC (rising to 1 SC at higher VIP)",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "VIP system with 5x sweeps coin scaling",
          trustScore: 85
        }
      },
      { 
        name: "PlayFame", 
        tilted: "https://www.playfame.com/lp/raf?r=1275975417", 
        clean: "https://www.playfame.com", 
        category: "social",
        info: {
          dailyBonus: "1,500 GC + 0.2–2 SC (varies/random)",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Random SC bonus with 10x variance potential",
          trustScore: 83
        }
      },
      { 
        name: "Jackpota", 
        tilted: "https://www.jackpota.com/?r=85453282", 
        clean: "https://www.jackpota.com", 
        category: "social",
        info: {
          dailyBonus: "1,500 GC + 0.20 SC",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Consistent daily bonus amounts",
          trustScore: 80
        }
      },
      { name: "MyPrize", tilted: "https://myprize.us/invite/jmenichole", clean: "https://myprize.us", category: "social" },
      { name: "Winna", tilted: "https://winna.com/?r=jmenichole", clean: "https://winna.com", category: "social" },
      { 
        name: "Clubs Poker", 
        tilted: "https://play.clubs.poker/?referralCode=104192", 
        clean: "https://play.clubs.poker", 
        category: "social",
        info: {
          dailyBonus: "1,000 GC + 0.20 SC",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Poker-focused social casino",
          trustScore: 82
        }
      },
      { name: "Lonestar Casino", tilted: "https://lonestarcasino.com/refer/678504", clean: "https://lonestarcasino.com", category: "social" },
      { 
        name: "Spree", 
        tilted: "https://spree.com/?r=1450539", 
        clean: "https://spree.com", 
        category: "social",
        info: {
          dailyBonus: "2,000 GC + 0.4 SC",
          frequency: "Daily (24h)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Above average sweeps coin daily bonus",
          trustScore: 84
        }
      },
      { name: "SpinPals", tilted: "https://www.spinpals.com?referralcode=e851e1a8-c455-4a59-954d-b7fe0bbad04c", clean: "https://www.spinpals.com", category: "social" },
      { 
        name: "FortuneWheelz", 
        tilted: "https://fortunewheelz.com/?invited_by=P36ZS6", 
        clean: "https://fortunewheelz.com", 
        category: "social",
        info: {
          dailyBonus: "Day 1: 20 GC + 20 Fortune Coins; up to 10 free spins (Day 7)",
          frequency: "Daily (7-day streak)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Week-long streak system with free spins",
          trustScore: 79
        }
      },
      { 
        name: "Zoot", 
        tilted: "https://getzoot.us/?referralCode=ZOOTwithJMENICHOLE", 
        clean: "https://getzoot.us", 
        category: "social",
        info: {
          dailyBonus: "~1,000 GC daily (plus occasional 0.5 SC)",
          frequency: "Daily (7-day cycle)",
          redemption: "Instant (after login)",
          timeframe: "Instant withdrawal",
          notes: "Weekly cycle with bonus SC on later days",
          trustScore: 78
        }
      },
      { name: "Spinsala", tilted: "https://spinsala.com/en?invite=daym", clean: "https://spinsala.com", category: "social" },
      { name: "Legendz", tilted: "https://legendz.com/?referred_by_id=221602", clean: "https://legendz.com", category: "social" },
    ];

    // --- Casino Information Modal Functions ---
    window.showCasinoInfo = function(casinoName) {
      const casino = window.casinoData.find(c => c.name === casinoName);
      if (!casino || !casino.info) return;
      
      const modal = document.getElementById('casino-info-modal');
      const title = document.getElementById('casino-info-title');
      const content = document.getElementById('casino-info-content');
      
      title.textContent = casino.name;
      
      // Build the content HTML
      let contentHTML = `
        <div class="casino-info-field">
          <span class="casino-info-label">Daily Bonus</span>
          <div class="casino-info-value">${casino.info.dailyBonus}</div>
        </div>
        
        <div class="casino-info-field">
          <span class="casino-info-label">Collection Frequency</span>
          <div class="casino-info-value">${casino.info.frequency}</div>
        </div>
        
        <div class="casino-info-field">
          <span class="casino-info-label">Redemption Type</span>
          <div class="casino-info-value">${casino.info.redemption}</div>
        </div>
        
        <div class="casino-info-field">
          <span class="casino-info-label">Withdrawal Timeframe</span>
          <div class="casino-info-value">${casino.info.timeframe}</div>
        </div>
        
        <div class="casino-info-field">
          <span class="casino-info-label">Trust Score</span>
          <div class="casino-info-value">
            <div class="trust-score">
              <div class="trust-score-bar">
                <div class="trust-score-fill" style="width: ${casino.info.trustScore}%"></div>
              </div>
              <span class="trust-score-number">${casino.info.trustScore}/100</span>
            </div>
          </div>
        </div>
        
        <div class="casino-info-field">
          <span class="casino-info-label">Additional Notes</span>
          <div class="casino-info-value">${casino.info.notes}</div>
          <div class="casino-category-badge">${casino.category}</div>
        </div>
      `;
      
      content.innerHTML = contentHTML;
      modal.style.display = 'flex';
      
      // Add keyboard event listener for escape key
      document.addEventListener('keydown', window.handleCasinoInfoKeydown);
      
      // Focus the close button for accessibility
      setTimeout(() => {
        const closeBtn = modal.querySelector('.casino-info-close');
        if (closeBtn) closeBtn.focus();
      }, 100);
    };
    
    window.closeCasinoInfo = function() {
      const modal = document.getElementById('casino-info-modal');
      modal.style.display = 'none';
      document.removeEventListener('keydown', window.handleCasinoInfoKeydown);
    };
    
    window.handleCasinoInfoKeydown = function(e) {
      if (e.key === 'Escape') {
        window.closeCasinoInfo();
      }
    };
    
    // Close modal when clicking outside of it
    document.addEventListener('click', function(e) {
      const modal = document.getElementById('casino-info-modal');
      if (e.target === modal) {
        window.closeCasinoInfo();
      }
    });

    // --- Browser Notification Support ---
    let notificationsEnabled = false;
    function requestNotificationPermission() {
      if (!("Notification" in window)) return;
      if (Notification.permission === "granted") {
        notificationsEnabled = true;
      } else if (Notification.permission !== "denied") {
        Notification.requestPermission().then(permission => {
          notificationsEnabled = permission === "granted";
        });
      }
    }
    function notifyBonusAvailable(casino) {
      if (notificationsEnabled && "Notification" in window) {
        new Notification(`Bonus available!`, {
          body: `You can collect your bonus at ${casino}.`,
          icon: "/favicon.ico"
        });
      }
    }

    // --- Utility Functions ---
    function parseTimeInput(input) {
      if (!input) return NaN;
      input = input.toLowerCase().replace(/[^0-9hm\s\.\:]/g, '');
      // Accept formats like "2:30" as 2h 30m
      let total = 0;
      const colonMatch = input.match(/(\d+)\s*:\s*(\d+)/);
      if (colonMatch) {
        total += parseInt(colonMatch[1], 10) * 60 + parseInt(colonMatch[2], 10);
        return total;
      }
      const hourMatch = input.match(/(\d+(?:\.\d+)?)\s*h/);
      const minMatch = input.match(/(\d+(?:\.\d+)?)\s*m/);
      if (hourMatch) total += parseFloat(hourMatch[1]) * 60;
      if (minMatch) total += parseFloat(minMatch[1]);
      if (!hourMatch && !minMatch) {
        const num = parseFloat(input);
        if (!isNaN(num)) total += num;
      }
      if (!isFinite(total) || total <= 0) return NaN;
      return Math.round(total);
    }
    function showToast(msg) {
      const toast = document.querySelector('.toast');
      if (!toast) return;
      toast.textContent = msg;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 2500);
    }
    function showGifPopup() {
      const el = document.getElementById("gif-popup");
      if (!el) return;
      el.innerHTML = `<img src="${gifUrls[Math.floor(Math.random() * gifUrls.length)]}" style="max-height:150px;" alt="Celebration GIF" />`;
      el.style.display = "block";
      confetti();
      setTimeout(() => { el.style.display = "none"; }, 5000);
    }
    function renderCountdown(label, ms) {
      const mins = Math.ceil(ms / 60000);
      const h = Math.floor(mins / 60), m = mins % 60;
      label.innerHTML = `<span class="flip-clock"><span class="digit">${h}</span>h <span class="digit">${m}</span>m</span>`;
      label.classList.remove('available');
      label.classList.add('timer');
    }
    function updateBonusCount() {
      const count = +(localStorage.getItem("collect_count") || 0);
      const el = document.getElementById("bonus-count");
      if (el) {
        el.textContent = `Bonuses Collected: ${count}`;
      }
    }
    function updateTimers() {
      document.querySelectorAll(".table-row").forEach(row => {
        const casino = row.dataset.casino;
        const label = row.querySelector(".last-collected");
        const box = row.querySelector("input");
        const next = localStorage.getItem("casino_" + casino);
        if (next && Date.now() < +next) {
          box.checked = true;
          box.disabled = true;
          renderCountdown(label, next - Date.now());
        } else {
          if (label.textContent !== "Available!") {
            try { uwuSound.play(); } catch {}
            notifyBonusAvailable(casino);
          }
          label.classList.remove('timer');
          label.classList.add('available');
          box.checked = false;
          box.disabled = false;
          label.textContent = "Available!";
        }
      });
    }
    function updateStats() { 
      // Simple stats update - maintains existing functionality
      updateBonusCount();
    }
    function showBonusModal(message) {
      return new Promise((resolve) => {
        const modal = document.getElementById('bonus-modal');
        if (!modal) return resolve(false);
        document.getElementById('bonus-modal-msg').textContent = message;
        modal.style.display = 'flex';
        const yesBtn = document.getElementById('bonus-modal-yes');
        const noBtn = document.getElementById('bonus-modal-no');
        function cleanup(result) {
          modal.style.display = 'none';
          yesBtn.removeEventListener('click', onYes);
          noBtn.removeEventListener('click', onNo);
        }
        function onYes() { cleanup(true); resolve(true); }
        function onNo() { cleanup(false); resolve(false); }
        yesBtn.addEventListener('click', onYes);
        noBtn.addEventListener('click', onNo);
      });
    }
    async function handleBonusClick(name) {
      const row = document.querySelector(`.table-row[data-casino="${name}"]`);
      if (!row) return;
      const box = row.querySelector("input");
      const label = row.querySelector(".last-collected");
      const firstCollectedKey = `casino_first_collected_${name}`;
      const timerKey = `casino_timer_${name}`;
      const alreadyCollected = localStorage.getItem(firstCollectedKey);
      let mins = 1440;
      if (!alreadyCollected) {
        const didCollect = await showBonusModal("Did you collect your bonus?");
        if (!didCollect) return true;
        localStorage.setItem(firstCollectedKey, "1");
        // Only ask the 24hr/timer question the first time
        const is24h = await showBonusModal("Is the next collection in 24 hours?");
        if (!is24h) {
          const input = prompt("How long until the next bonus? (e.g. 5h, 2h 30m, 90m)");
          mins = parseTimeInput(input);
          if (isNaN(mins) || mins <= 0) {
            showToast("Invalid input. Try formats like '5h', '2h 30m', or '90m'.");
            return false;
          }
          localStorage.setItem(timerKey, mins); // store custom timer
        } else {
          localStorage.setItem(timerKey, 1440); // store 24h as default
        }
      } else {
        // Use stored timer value for this casino
        mins = +(localStorage.getItem(timerKey) || 1440);
      }
      const next = Date.now() + mins * 60000;
      localStorage.setItem("casino_" + name, next);
      box.checked = true;
      box.disabled = true;
      // Only increment count on first collection per casino per day
      let count = +(localStorage.getItem("collect_count") || 0);
      if (!alreadyCollected) {
        count++;
        localStorage.setItem("collect_count", count);
        updateBonusCount();
      }
      showToast("Bonus collected!");
      updateStats();
      updateTimers();
      // Show GIF/confetti with 20% chance
      if (Math.random() < 0.2) showGifPopup();
      return true;
    }
    function toggleMode() {
      const body = document.body;
      const isLight = body.classList.toggle("light-mode");
      const h1 = document.querySelector("h1");
      if (h1) h1.textContent = isLight
        ? "Don't forget your daily bonus collection 💧"
        : "Degen mode activated. Don't forget the juice ⚡";
      document.title = isLight ? "🎯 Bonus Tracker - CollectClock" : "🎰 Tilted, baby";
      const modeBtn = document.querySelector(".toggle-mode");
      if (modeBtn) modeBtn.textContent = isLight ? "Tilt" : "Untilt";
      try {
        (isLight ? untiltSound : tiltSound).play();
      } catch {}
      if (!isLight && !localStorage.getItem("tiltConfettiShown")) {
        confetti();
        localStorage.setItem("tiltConfettiShown", "true");
      }
      localStorage.setItem("theme", isLight ? "light" : "dark");
      renderCasinoTable(); // update links for mode
    }
    // --- Search/Filter Logic ---
    let casinoFilter = "";
    const searchInput = document.getElementById("casino-search");
    const searchClearBtn = document.getElementById("casino-search-clear");
    if (searchInput) {
      searchInput.addEventListener("input", function() {
        casinoFilter = searchInput.value.trim().toLowerCase();
        renderCasinoTable();
        searchClearBtn.style.display = casinoFilter ? "inline-block" : "none";
      });
      searchInput.addEventListener("keydown", function(e) {
        if (e.key === "Escape") {
          searchInput.value = "";
          casinoFilter = "";
          renderCasinoTable();
          searchClearBtn.style.display = "none";
        }
      });
    }
    if (searchClearBtn) {
      searchClearBtn.addEventListener("click", function() {
        searchInput.value = "";
        casinoFilter = "";
        renderCasinoTable();
        searchClearBtn.style.display = "none";
        searchInput.focus();
      });
    }
    // --- Keyboard Navigation for Casino Rows ---
    function focusRow(idx) {
      const rows = Array.from(document.querySelectorAll(".table-row"));
      if (rows[idx]) {
        rows[idx].querySelector("a").focus();
      }
    }
    document.addEventListener("keydown", function(e) {
      if (document.activeElement && document.activeElement.closest(".table-row")) {
        const rows = Array.from(document.querySelectorAll(".table-row"));
        const current = rows.findIndex(r => r.contains(document.activeElement));
        if (e.key === "ArrowDown") {
          e.preventDefault();
          focusRow((current + 1) % rows.length);
        } else if (e.key === "ArrowUp") {
          e.preventDefault();
          focusRow((current - 1 + rows.length) % rows.length);
        } else if (e.key === "Tab" && e.shiftKey && current === 0) {
          // Allow shift-tab to wrap to last row
          focusRow(rows.length - 1);
          e.preventDefault();
        }
      }
    });
    // --- Keyboard Navigation for Modal ---
    const bonusModal = document.getElementById('bonus-modal');
    if (bonusModal) {
      bonusModal.addEventListener('keydown', function(e) {
        if (bonusModal.style.display !== 'flex') return;
        if (e.key === "Escape") {
          document.getElementById('bonus-modal-no').click();
        }
        if (e.key === "Tab") {
          // Trap focus inside modal
          const focusables = [document.getElementById('bonus-modal-yes'), document.getElementById('bonus-modal-no')];
          const idx = focusables.indexOf(document.activeElement);
          if (e.shiftKey) {
            if (idx <= 0) {
              focusables[focusables.length - 1].focus();
              e.preventDefault();
            }
          } else {
            if (idx === focusables.length - 1) {
              focusables[0].focus();
              e.preventDefault();
            }
          }
        }
      });
    }
    // --- Smoother Timers with requestAnimationFrame ---
    let lastTimerUpdate = 0;
    function updateTimersRAF(ts) {
      if (!lastTimerUpdate || ts - lastTimerUpdate > 1000) {
        updateTimers();
        lastTimerUpdate = ts;
      }
      requestAnimationFrame(updateTimersRAF);
    }
    // --- Category-based Casino Table Rendering ---
    function renderCasinoTable() {
      const availableContainer = document.getElementById("casino-table-available");
      const cooldownContainer = document.getElementById("casino-table-cooldown");
      if (!availableContainer || !cooldownContainer) return;
      availableContainer.innerHTML = "";
      cooldownContainer.innerHTML = "";
      
      const isTilted = !document.body.classList.contains("light-mode");
      let data = window.casinoData || [];
      const now = Date.now();
      
      // Apply search filter
      if (casinoFilter) {
        data = data.filter(c =>
          c.name.toLowerCase().includes(casinoFilter)
        );
      }
      
      // Filter out hidden casinos
      data = data.filter(casino => {
        const isHidden = localStorage.getItem("hidden_" + casino.name) === "true";
        return !isHidden;
      });
      
      // Prepare casino data with availability and metadata
      const allCasinos = data.map(casino => {
        const next = localStorage.getItem("casino_" + casino.name);
        const isAvailable = !next || now >= +next;
        const isFavorite = localStorage.getItem("favorite_" + casino.name) === "true";
        const lastUsed = localStorage.getItem("lastused_" + casino.name) || "0";
        
        return {
          ...casino,
          isAvailable,
          isFavorite,
          lastUsed: parseInt(lastUsed, 10),
          next: next ? parseInt(next, 10) : 0
        };
      });
      
      // Separate available and cooldown casinos
      const availableCasinos = allCasinos.filter(c => c.isAvailable);
      const cooldownCasinos = allCasinos.filter(c => !c.isAvailable);
      
      // Sort available casinos: favorites first, then by last used (most recent first), then alphabetical
      availableCasinos.sort((a, b) => {
        if (a.isFavorite !== b.isFavorite) {
          return b.isFavorite - a.isFavorite; // favorites first
        }
        if (a.lastUsed !== b.lastUsed) {
          return b.lastUsed - a.lastUsed; // most recently used first
        }
        return a.name.localeCompare(b.name); // alphabetical fallback
      });
      
      // Sort cooldown casinos by time remaining (most time left first)
      cooldownCasinos.sort((a, b) => (b.next - now) - (a.next - now));
      
      // Render available casinos
      if (availableCasinos.length > 0) {
        const header = document.createElement("h2");
        header.textContent = "Available to Collect";
        header.style.margin = "1.2em 0 1em 0";
        header.style.fontSize = "1.4em";
        header.style.textAlign = "center";
        header.style.fontFamily = "'Cinzel Decorative', serif";
        availableContainer.appendChild(header);
        
        availableCasinos.forEach(casino => {
          const row = createCasinoRow(casino, true);
          availableContainer.appendChild(row);
        });
      }
      
      // Render cooldown casinos
      if (cooldownCasinos.length > 0) {
        const header = document.createElement("h2");
        header.textContent = "On Cooldown";
        header.style.margin = "2em 0 1em 0";
        header.style.fontSize = "1.3em";
        header.style.textAlign = "center";
        header.style.fontFamily = "'Cinzel Decorative', serif";
        cooldownContainer.appendChild(header);
        
        cooldownCasinos.forEach(casino => {
          const row = createCasinoRow(casino, false);
          cooldownContainer.appendChild(row);
        });
      }
      
      // Show/hide sections based on content
      if (casinoFilter) {
        if (availableCasinos.length === 0 && cooldownCasinos.length === 0) {
          availableContainer.innerHTML = "<p style='text-align:center;color:var(--text);margin:2em;'>No casinos match your search.</p>";
          cooldownContainer.style.display = "none";
        } else {
          availableContainer.style.display = availableCasinos.length > 0 ? "" : "none";
          cooldownContainer.style.display = cooldownCasinos.length > 0 ? "" : "none";
        }
      } else {
        availableContainer.style.display = "";
        cooldownContainer.style.display = "";
      }
    }
    
    function createCasinoRow(casino, isAvailable) {
      const row = document.createElement("div");
      row.className = "table-row";
      row.dataset.casino = casino.name;
      
      const isTilted = !document.body.classList.contains("light-mode");
      const link = isTilted ? casino.tilted : (casino.clean || casino.tilted);
      const now = Date.now();
      
      // Create favorite button
      const favoriteBtn = document.createElement("button");
      favoriteBtn.className = "favorite-btn";
      favoriteBtn.innerHTML = casino.isFavorite ? "⭐" : "☆";
      favoriteBtn.title = casino.isFavorite ? "Remove from favorites" : "Add to favorites";
      favoriteBtn.onclick = (e) => {
        e.stopPropagation();
        toggleFavorite(casino.name);
      };
      
      // Create hide button
      const hideBtn = document.createElement("button");
      hideBtn.className = "hide-btn";
      hideBtn.innerHTML = "👁";
      hideBtn.title = "Hide this casino";
      hideBtn.onclick = (e) => {
        e.stopPropagation();
        hideCasino(casino.name);
      };
      
      // Create info button if casino has detailed information
      let infoButton = "";
      if (casino.info) {
        infoButton = `<button class="casino-info-btn" onclick="showCasinoInfo('${casino.name}')" title="View casino details">ⓘ</button>`;
      }
      
      // Create main content
      let statusText, statusClass;
      if (isAvailable) {
        statusText = "💎 Available! ✨";
        statusClass = "available";
      } else {
        const timeLeft = casino.next - now;
        statusText = formatTime(timeLeft);
        statusClass = "timer";
      }
      
      row.innerHTML = `
        <div class="casino-controls">
          ${favoriteBtn.outerHTML}
          ${hideBtn.outerHTML}
        </div>
        <div class="tooltip">
          <a href="${link}" target="_blank" onclick="return handleCasinoLinkClick(event, '${casino.name}')">${casino.name}</a>
          ${infoButton}
          <span class="tooltiptext">${casino.tooltip || ''}</span>
        </div>
        <div><input type="checkbox" aria-label="Collected ${casino.name}?" /></div>
        <div class="last-collected ${statusClass}">${statusText}</div>
      `;
      
      // Re-attach event handlers since innerHTML overwrites them
      const newFavoriteBtn = row.querySelector(".favorite-btn");
      const newHideBtn = row.querySelector(".hide-btn");
      
      newFavoriteBtn.onclick = (e) => {
        e.stopPropagation();
        toggleFavorite(casino.name);
      };
      
      newHideBtn.onclick = (e) => {
        e.stopPropagation();
        hideCasino(casino.name);
      };
      
      return row;
    }
    
    function toggleFavorite(casinoName) {
      const currentFavorite = localStorage.getItem("favorite_" + casinoName) === "true";
      localStorage.setItem("favorite_" + casinoName, (!currentFavorite).toString());
      renderCasinoTable();
    }
    
    function hideCasino(casinoName) {
      if (confirm(`Hide ${casinoName}? You can restore it by clearing your browser data.`)) {
        localStorage.setItem("hidden_" + casinoName, "true");
        renderCasinoTable();
      }
    }
    
    function formatTime(ms) {
      if (ms <= 0) return "Available!";
      
      const hours = Math.floor(ms / (1000 * 60 * 60));
      const minutes = Math.floor((ms % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((ms % (1000 * 60)) / 1000);
      
      if (hours > 0) {
        return `${hours}h ${minutes}m`;
      } else if (minutes > 0) {
        return `${minutes}m ${seconds}s`;
      } else {
        return `${seconds}s`;
      }
    }
    
    function handleCasinoLinkClick(event, casinoName) {
      // Track last used time for sorting
      localStorage.setItem("lastused_" + casinoName, Date.now().toString());
      return true; // Allow the link to open
    }
    
    function createCategorySection(categoryKey, categoryName, casinos, isAvailable) {
      const section = document.createElement("div");
      section.className = `category-section category-${categoryKey}`;
      
      // Create header
      const header = document.createElement("div");
      header.className = "category-header";
      header.onclick = () => toggleCategory(section);
      
      const title = document.createElement("h3");
      title.className = "category-title";
      title.textContent = categoryName;
      
      const count = document.createElement("span");
      count.className = "category-count";
      count.textContent = casinos.length;
      
      const toggle = document.createElement("span");
      toggle.className = "category-toggle";
      toggle.textContent = "⌄";
      
      header.appendChild(title);
      header.appendChild(count);
      header.appendChild(toggle);
      
      // Create content
      const content = document.createElement("div");
      content.className = "category-content";
      
      const isTilted = !document.body.classList.contains("light-mode");
      const now = Date.now();
      
      casinos.forEach(casino => {
        const row = document.createElement("div");
        row.className = "table-row";
        row.dataset.casino = casino.name;
        
        let link = isTilted ? casino.tilted : (casino.clean || casino.tilted);
        
        if (isAvailable) {
          row.innerHTML = `
            <div class="tooltip">
              <a href="${link}" target="_blank" tabindex="0">${casino.name}</a>
              <span class="tooltiptext">${casino.tooltip || ''}</span>
            </div>
            <div><input type="checkbox" aria-label="Collected ${casino.name}?" tabindex="0" /></div>
            <div class="last-collected available">💎 Available! ✨</div>`;
        } else {
          const minsLeft = Math.ceil((casino.next - now) / 60000);
          const h = Math.floor(minsLeft / 60), m = minsLeft % 60;
          row.innerHTML = `
            <div class="tooltip">
              <a href="${link}" target="_blank" tabindex="0">${casino.name}</a>
              <span class="tooltiptext">${casino.tooltip || ''}</span>
            </div>
            <div><input type="checkbox" aria-label="Collected ${casino.name}?" tabindex="0" disabled /></div>
            <div class="last-collected timer"><span class="flip-clock"><span class="digit">${h}</span>h <span class="digit">${m}</span>m</span></div>`;
        }
        
        content.appendChild(row);
        
        // Attach event handlers
        const anchor = row.querySelector("a");
        anchor.addEventListener('click', (event) => {
          event.preventDefault();
          trackCasinoClick(casino.name); // Track the click
          window.open(link, '_blank');
          setTimeout(() => handleBonusClick(casino.name), 100);
        });
        anchor.addEventListener('keydown', (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            anchor.click();
          }
        });
        
        const checkbox = row.querySelector("input[type=checkbox]");
        if (!checkbox.disabled) {
          checkbox.addEventListener('keydown', (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              checkbox.click();
            }
          });
          checkbox.addEventListener('click', () => {
            handleBonusClick(casino.name);
          });
        }
      });
      
      section.appendChild(header);
      section.appendChild(content);
      
      return section;
    }
    
    function toggleCategory(section) {
      section.classList.toggle('collapsed');
    }
    
    const infoBtn = document.getElementById('info-btn');
    const infoPopup = document.getElementById('info-popup');
    if (infoBtn && infoPopup) {
      infoBtn.addEventListener('click', function(e) {
        const isActive = infoBtn.classList.toggle('active');
        infoPopup.style.display = isActive ? 'block' : 'none';
        infoPopup.setAttribute('aria-hidden', !isActive);
        if (isActive) {
          setTimeout(() => {
            document.addEventListener('click', hideInfo, { once: true });
          }, 10);
          infoPopup.focus();
        }
        e.stopPropagation();
      });
      infoBtn.addEventListener('keydown', function(e) {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          infoBtn.click();
        }
      });
      function hideInfo(e) {
        if (!infoBtn.contains(e.target) && !infoPopup.contains(e.target)) {
          infoBtn.classList.remove('active');
          infoPopup.style.display = 'none';
          infoPopup.setAttribute('aria-hidden', 'true');
        }
      }
    }
    
    // --- Admin Panel Functions ---
    function initializeAdminPanel() {
      const adminBtn = document.getElementById("admin-btn");
      const adminPanel = document.getElementById("admin-panel");
      const adminPasswordModal = document.getElementById("admin-password-modal");
      const adminPasswordInput = document.getElementById("admin-password-input");
      const adminPasswordSubmit = document.getElementById("admin-password-submit");
      const adminPasswordCancel = document.getElementById("admin-password-cancel");
      const adminCloseBtn = document.getElementById("admin-close-btn");
      const adminClicksList = document.getElementById("admin-clicks-list");
      
      const ADMIN_PASSWORD = "jmenichole0098";
      
      // Initialize click tracking if not exists
      if (!localStorage.getItem("casinoClickStats")) {
        localStorage.setItem("casinoClickStats", JSON.stringify({}));
      }
      
      // Show password modal
      adminBtn.addEventListener("click", () => {
        adminPasswordModal.style.display = "flex";
        adminPasswordInput.focus();
      });
      
      // Handle password submission
      adminPasswordSubmit.addEventListener("click", () => {
        if (adminPasswordInput.value === ADMIN_PASSWORD) {
          adminPasswordModal.style.display = "none";
          showAdminPanel();
          adminPasswordInput.value = "";
        } else {
          alert("Incorrect password");
          adminPasswordInput.focus();
        }
      });
      
      // Handle password input Enter key
      adminPasswordInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          adminPasswordSubmit.click();
        }
      });
      
      // Cancel password modal
      adminPasswordCancel.addEventListener("click", () => {
        adminPasswordModal.style.display = "none";
        adminPasswordInput.value = "";
      });
      
      // Close admin panel
      adminCloseBtn.addEventListener("click", () => {
        adminPanel.style.display = "none";
      });
      
      // Close modals on outside click
      adminPasswordModal.addEventListener("click", (e) => {
        if (e.target === adminPasswordModal) {
          adminPasswordModal.style.display = "none";
          adminPasswordInput.value = "";
        }
      });
      
      adminPanel.addEventListener("click", (e) => {
        if (e.target === adminPanel) {
          adminPanel.style.display = "none";
        }
      });
      
      function showAdminPanel() {
        updateAdminStats();
        adminPanel.style.display = "flex";
      }
      
      function updateAdminStats() {
        const clickStats = JSON.parse(localStorage.getItem("casinoClickStats") || "{}");
        const totalClicks = Object.values(clickStats).reduce((sum, count) => sum + count, 0);
        
        let statsHtml = `<div style="margin-bottom: 1em; font-weight: bold;">Total Clicks: ${totalClicks}</div>`;
        
        if (Object.keys(clickStats).length === 0) {
          statsHtml += "<p>No click data available yet.</p>";
        } else {
          // Sort by click count descending
          const sortedStats = Object.entries(clickStats)
            .sort(([,a], [,b]) => b - a)
            .map(([casino, clicks]) => `
              <div style="display: flex; justify-content: space-between; padding: 8px; border-bottom: 1px solid #eee;">
                <span>${casino}</span>
                <span style="font-weight: bold;">${clicks} clicks</span>
              </div>
            `).join('');
          
          statsHtml += '<div style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden;">' + sortedStats + '</div>';
        }
        
        adminClicksList.innerHTML = statsHtml;
      }
    }
    
    function trackCasinoClick(casinoName) {
      const clickStats = JSON.parse(localStorage.getItem("casinoClickStats") || "{}");
      clickStats[casinoName] = (clickStats[casinoName] || 0) + 1;
      localStorage.setItem("casinoClickStats", JSON.stringify(clickStats));
    }
    
    // --- Startup ---
    document.addEventListener("DOMContentLoaded", function() {
      const modeToggle = document.getElementById("mode-toggle");
      if (modeToggle) modeToggle.addEventListener("click", toggleMode);
      initializeAdminPanel(); // Initialize admin panel
      renderCasinoTable();
      updateTimers();
      updateStats();
      updateBonusCount();
      // Restore theme - dark is now default
      const theme = localStorage.getItem("theme");
      if (theme === "light") document.body.classList.add("light-mode");
      // Request notification permission
      requestNotificationPermission();
      // Focus search bar on load for accessibility
      if (searchInput) searchInput.setAttribute("tabindex", "0");
    });
    // --- Timers update ---
    requestAnimationFrame(updateTimersRAF);
  })();
  </script>
</body>
</html>
